/* ====== Base / Tokens ==================================================== */
:root{
  --c-primary:#2563eb;
  --c-primary-600:#1d4ed8;
  --c-primary-soft:#eef2ff;
  --c-outline:#dbdbd1;
  --c-border:#e5e7eb;
  --c-bg-soft:#f8fafc;
  --c-shadow:0 15px 30px rgba(2,6,23,.06);
}

* { box-sizing:border-box; }

/* Font chung cho toàn hệ thống */
body{
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color:#0f172a;
  line-height:1.5;
}

/* Nền AMS chỉ áp cho các trang bên trong hệ thống (home, account, admin, …) */
body:not(.no-ams-bg){
  background:url('hinhnen.png') center/cover fixed no-repeat;
  position:relative;
}

body:not(.no-ams-bg)::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(255,255,255,.86);
  backdrop-filter:blur(4px);
  z-index:-1;
}

/* ===== Login page ===== */
.login-bg{
  position:fixed; inset:0; z-index:-1;
  background:url('banner.png') center/cover no-repeat;
  filter:blur(4px) saturate(105%);
}
.login-overlay{
  position:fixed; inset:0; z-index:-1;
  background:linear-gradient(to bottom, rgba(0,0,0,.25), rgba(0,0,0,.35));
}

/* Cho nút disable nhìn rõ ràng */
.btn:disabled{
  opacity:.7;
  cursor:not-allowed;
}

/* Dành cho label ẩn phục vụ screen reader (nếu cần dùng thêm) */
.visually-hidden{
  position:absolute!important;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* ====== Card ============================================================= */
/* Card chung + hiệu ứng mềm, hơi “glass” */
.card{
  background:linear-gradient(135deg,#ffffff,#f9fbff);
  border-radius:1rem;
  border:1px solid rgba(148,163,184,.25);
  box-shadow:0 14px 40px rgba(15,23,42,.12);
  padding:1.25rem;
  transition:
    transform .18s ease,
    box-shadow .18s ease,
    border-color .18s ease,
    background .18s ease;
}
.card:hover{
  transform:translateY(-3px);
  box-shadow:0 18px 45px rgba(15,23,42,.16);
  border-color:rgba(59,130,246,.45);
  background:linear-gradient(135deg,#ffffff,#e0edff);
}

/* ====== Inputs =========================================================== */
.input{
  width:100%;
  border:1px solid var(--c-border);
  border-radius:999px;
  padding:.45rem .9rem;
  outline:none;
  background:#ffffff;
  font-size:.875rem;
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.input:focus{
  box-shadow:0 0 0 2px rgba(59,130,246,.25);
  border-color:#60a5fa;
}
.input[readonly]{
  opacity:.7;
  background-color:#f3f4f6;
  cursor:not-allowed;
}

/* Đẹp hơn cho select trong filter dashboard */
select.input{
  background:
    linear-gradient(135deg,#ffffff,#f9fafb);
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  padding-right:2.25rem;
  position:relative;
}
select.input::-ms-expand{display:none;}

/* ====== Buttons ========================================================== */
.btn{
  padding:.55rem 1rem;
  border-radius:.9rem;
  box-shadow:0 8px 18px rgba(15,23,42,.12);
  font-weight:600;
  transition:
    transform .08s ease,
    opacity .15s,
    box-shadow .15s,
    background .15s,
    color .15s;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.4rem;
  border:1px solid transparent;
}
.btn:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 22px rgba(15,23,42,.16);
}
.btn[disabled]{
  opacity:.6;
  cursor:not-allowed;
  transform:none;
}

/* Biến thể nút */
.btn-primary{
  background:linear-gradient(135deg,#2563eb,#1d4ed8);
  color:#fff;
}
.btn-primary:hover{
  background:linear-gradient(135deg,#1d4ed8,#1e40af);
}

.btn-secondary{
  background:linear-gradient(135deg,#4f46e5,#1d4ed8);
  color:#fff;
}

.btn-outline{
  background:#ffffff;
  border-color:rgba(148,163,184,.6);
  color:#0f172a;
}
.btn-outline:hover{
  background:#f9fafb;
  border-color:#2563eb;
  color:#1d4ed8;
}

.btn-soft{
  background:linear-gradient(135deg,#facc15,#f97316);
  color:#111827;
}
.btn-soft:hover{
  background:linear-gradient(135deg,#eab308,#ea580c);
}

.btn-xs{
  padding:.22rem .6rem;
  border-radius:999px;
  font-size:.75rem;
}
.btn-pill{ border-radius:999px; }

/* ====== Tables =========================================================== */
.table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  border-radius:1rem;
  overflow:hidden;
  background:#ffffff;
}
.table th,
.table td{
  border-bottom:1px solid var(--c-border);
  padding:.6rem .75rem;
}
.table thead th{
  background:linear-gradient(135deg,#eff6ff,#e0f2fe);
  color:#0f172a;
  font-weight:700;
  position:sticky;
  top:0;
  z-index:1;
  user-select:none;
}
.row-alt:nth-child(odd) td{
  background:#f9fafb;
}
.table tbody tr:hover td{
  background:#eef2ff;
}

.th-sortable{ cursor:pointer; }
.th-sortable .arrow{ opacity:.4;margin-left:.25rem; }
.th-sortable[aria-sort] .arrow{ opacity:1; }

/* ====== Badges / Chips / Text =========================================== */
.chip{
  display:inline-block;
  padding:.1rem .6rem;
  border-radius:999px;
  background:#eff6ff;
  color:#1d4ed8;
  font-weight:700;
  font-size:.75rem;
  border:1px solid #bfdbfe;
}

.chip-mini{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:.1rem .45rem;
  border-radius:999px;
  background:#eff6ff;
  color:#1d4ed8;
  font-weight:600;
  font-size:.75rem;
  border:1px solid #bfdbfe;
  font-variant-numeric: tabular-nums;
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:.25rem;
  padding:.15rem .55rem;
  border-radius:.75rem;
  background:#eef2ff;
  color:#3730a3;
  font-size:.75rem;
}
.badge::before{
  content:"";
  width:.4rem;height:.4rem;
  border-radius:999px;
  background:#4f46e5;
}

.text-muted{ color:#9ca3af; }
.status-ok{ color:#059669;font-weight:700; }
.status-fail{ color:#dc2626;font-weight:700; }

/* ====== Dropzone (import) =============================================== */
.drop{
  border:2px dashed #cbd5e1;
  border-radius:1rem;
  background:#f8fafc;
  transition:all .15s ease;
}
.drop.drag{
  background:#eef2ff;
  border-color:#93c5fd;
}

/* ====== Modal / Overlay (dùng chung: account, admin, import, journal…) == */
.modal-backdrop,
.overlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.45);
  backdrop-filter:blur(3px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.overlay.show{ display:flex; }

.modal{
  background:#fff;
  border-radius:1.25rem;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
  max-width:720px;
  width:calc(100% - 2rem);
  transform:scale(.96);
  opacity:0;
  transition:.18s;
}
.overlay.show .modal{
  transform:scale(1);
  opacity:1;
}
.modal .hd{
  padding:14px 16px;
  border-bottom:1px solid #e5e7eb;
  font-weight:700;
}
.modal .bd{ padding:16px; }
.modal .ft{
  padding:12px 16px;
  border-top:1px solid #e5e7eb;
  display:flex;
  gap:8px;
  justify-content:flex-end;
}
.modal textarea{
  width:100%;
  min-height:90px;
  border:1px solid #e5e7eb;
  border-radius:.75rem;
  padding:.6rem .85rem;
  outline:none;
}
.modal textarea:focus{
  box-shadow:0 0 0 3px rgba(59,130,246,.25);
  border-color:#93c5fd;
}

/* ====== Toast (top-center) ============================================== */
#toast-wrap{
  position: fixed;
  left: 50%;
  top: 24px;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  z-index: 9999;
  pointer-events: none;
}

.toast{
  pointer-events: auto;
  background: #1d4ed8;
  color: #fff;
  padding: .65rem 1rem;
  border-radius: .85rem;
  box-shadow: 0 8px 24px rgba(2,6,23,.35);
  font-weight: 600;
  max-width: 92vw;
  text-align: center;
  opacity: 0;
  transform: translateY(-8px);
  transition: opacity .2s ease, transform .2s ease;
}
.toast.show{ opacity: 1; transform: translateY(0); }
.toast.success{ background:#16a34a; }
.toast.error{   background:#dc2626; }
.toast.warn{    background:#f59e0b; }

@keyframes toast-in{
  from{ opacity:0;transform:translateY(-6px); }
  to{ opacity:1;transform:translateY(0); }
}

/* ====== Skeleton loading (dashboard, list…) ============================= */
.skeleton{
  position:relative;
  overflow:hidden;
  background:#eef2ff;
}
.skeleton::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);
  transform:translateX(-100%);
  animation:shimmer 1.2s infinite;
}
@keyframes shimmer{
  100%{ transform:translateX(100%); }
}

/* ====== Dropdown menu (Hi, user…) ======================================= */
.menu{
  opacity:0;
  transform:translateY(-4px);
  pointer-events:none;
  transition:.15s;
}
.menu.show{
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}

/* ====== Misc labels / section =========================================== */
.label{
  font-size:.85rem;
  font-weight:600;
  color:#111827;
}

.section-title{
  font-size:1.05rem;
  font-weight:700;
  margin-bottom:.5rem;
}

.kbd{
  padding:.15rem .35rem;
  border:1px solid var(--c-border);
  border-radius:.375rem;
  background:#f8fafc;
  color:#334155;
  font-size:.75rem;
}

/* Special delete message (students_list) */
#delMsg{
  font-weight:700;
  color:#df2222;
  font-size:15px;
  margin-bottom:6px;
}

/* Variant: journal primary */
.is-journal .btn-primary{ background:var(--c-primary-600); }

/* ====== Journal table ==================================================== */
.table-journal {
  width: 100%;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  overflow: hidden;
  font-size: .875rem;
  border-collapse: separate;
  border-spacing: 0;
}
.table-journal thead th{
  background:#f8fafc;
  font-weight:600;
}
.table-journal th,
.table-journal td{
  padding: .5rem .625rem;
  border-top: 1px solid #e5e7eb;
  vertical-align: top;
}
.table-journal thead th { border-top: 0; }

.section-h4{
  margin-top: 1.5rem;
  margin-bottom: .5rem;
  font-weight: 700;
  color: #1e40af;
}

/* Modal lý do (import/journal) */
#reasonModal .modal { border-radius: 16px; }
#reasonModal .hd { font-weight: 700; margin-bottom: 8px; }
#reasonModal .bd { padding-top: 6px; }
#reasonModal select,
#reasonModal input { font-size: 16px; }

/* ====== Kết quả import — căn giữa / log dễ đọc ========================== */
#resBody td,
#resBody th { text-align: center; }

#resBody td:nth-child(2){
  font-variant-numeric: tabular-nums;
}

#resultsTable {
  table-layout: fixed;
}

#resBody th:nth-child(-n+3),
#resBody td:nth-child(-n+3) {
  text-align: center;
  vertical-align: middle;
}

#resBody th:nth-child(4),
#resBody td:nth-child(4) {
  text-align: left;
  white-space: normal;
  word-break: break-word;
  overflow: visible;
  text-overflow: clip;
  vertical-align: top;
}

#resultsTable thead th {
  position: sticky;
  top: 0;
  z-index: 1;
}

/* ===== Sidebar / Nav ===================================================== */
.nav-item{
  display:block;
  padding:.45rem .9rem;
  margin:0 .5rem .15rem;
  border-radius:.75rem;
  color:#4b5563;
  text-decoration:none;
  font-weight:500;
  position:relative;
  transition:background .15s ease,color .15s ease,transform .1s ease, box-shadow .15s ease;
}
.nav-item::before{
  content:"";
  position:absolute;
  left:.4rem;
  top:50%;
  transform:translateY(-50%);
  width:4px;
  height:0;
  border-radius:999px;
  background:linear-gradient(180deg,#60a5fa,#2563eb);
  opacity:0;
  transition:height .15s ease, opacity .15s ease;
}
.nav-item:hover{
  background:#eff6ff;
  color:#1d4ed8;
  transform:translateX(1px);
  box-shadow:0 6px 16px rgba(15,23,42,.12);
}
.nav-item-active{
  background:linear-gradient(135deg,#2563eb,#1d4ed8);
  color:#fff;
  box-shadow:0 10px 24px rgba(37,99,235,.35);
}
.nav-item-active::before{
  height:60%;
  opacity:1;
}

/* ===== Biên nhận hồ sơ – header nổi ===== */
.receipt-header{
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(6px);
}

/* Hiệu ứng zoom logo trong header biên nhận */
.receipt-header a:hover img{
  transform: scale(1.05);
  transition: transform .2s ease;
}

/* ====== Dashboard: bảng chi tiết theo ngành ============================= */
/* Căn giữa các cột số, để cột Ngành căn trái cho dễ đọc */
#majorStatsBody td:nth-child(1),
#majorStatsBody td:nth-child(3),
#majorStatsBody td:nth-child(4),
#majorStatsBody td:nth-child(5),
#majorStatsBody td:nth-child(6){
  text-align:center;
}
#majorStatsBody td:nth-child(2){
  text-align:left;
}

/* ====== Dashboard: quick cards ========================================== */
.quick-card{
  position:relative;
  overflow:hidden;
}
.quick-card::after{
  content:"";
  position:absolute;
  inset:auto -40%;
  top:-60%;
  height:130%;
  background:radial-gradient(circle at top,#bfdbfe,transparent 60%);
  opacity:0;
  transition:opacity .25s ease;
}
.quick-card:hover::after{
  opacity:0.9;
}

.quick-icon{
  font-size:2rem;
  line-height:1;
  margin-bottom:.25rem;
}

.quick-title{
  font-weight:700;
  color:#1d4ed8;
}

.quick-desc{
  font-size:.875rem;
  color:#6b7280;
}
