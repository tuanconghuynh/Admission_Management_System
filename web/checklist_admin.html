<!doctype html> 
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Qu·∫£n l√Ω Danh m·ª•c h·ªì s∆° | AMS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="hutech.png">
  <meta name="theme-color" content="#2563eb">
  <link rel="stylesheet" href="style.css">
</head>
 <style>
    /* Hover nh·∫π logo */
    a:hover img { transform: scale(1.05); transition: transform 0.2s ease; }
  </style>
<body class="min-h-screen flex flex-col">

  <!-- HEADER CHUNG GI·ªêNG TRANG CH·ª¶ -->
  <header class="w-full bg-white/85 backdrop-blur-sm border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-6 py-3 flex items-center gap-3">
      <a href="/ams_home.html"
         class="flex items-center gap-3 hover:opacity-90 transition"
         title="V·ªÅ trang ch·ªß">
        <img src="hutech.png" class="h-10 w-10" alt="HUTECH" />
        <div>
          <h1 class="text-2xl sm:text-3xl font-extrabold text-blue-700 leading-tight">
            ADMISSION MANAGEMENT SYSTEM - AMS
          </h1>
          <p class="text-sm sm:text-base text-gray-600 font-medium tracking-wide">
            V-HT.PTƒêT - H·ªá Th·ªëng Qu·∫£n L√Ω H·ªì S∆° Nh·∫≠p H·ªçc (AMS)
          </p>
        </div>
      </a>
    </div>
  </header>

  <!-- MAIN LAYOUT -->
  <main class="flex-1 flex">
    <!-- SIDEBAR ƒê·ªíNG NH·∫§T -->
    <aside class="hidden md:flex md:flex-col w-64 bg-white/85 border-r border-slate-200 backdrop-blur-sm">
      <!-- Kh·ªëi user + dropdown -->
      <div class="px-4 pt-4 pb-3 border-b border-slate-200 relative">
        <button id="userMenuBtn"
                class="w-full justify-between text-sm text-gray-700 bg-white hover:bg-slate-50 px-3 py-2 rounded-lg shadow border flex items-center gap-2"
                aria-haspopup="true" aria-expanded="false" aria-controls="userMenu">
          <span><b id="helloName">‚Äî</b>
            <span class="text-gray-500">(<span id="helloRole">‚Äî</span>)</span>
          </span>
          <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor" class="text-gray-500" aria-hidden="true">
            <path fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 11.187l3.71-3.956a.75.75 0 011.08 1.04l-4.24 4.52a.75.75 0 01-1.08 0l-4.24-4.52a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"/>
          </svg>
        </button>

        <div id="userMenu"
            class="menu absolute right-0 top-[calc(100%+4px)] w-48 md:w-56
                    bg-white border rounded-lg shadow-md overflow-hidden z-20 text-xs"
            role="menu">
          <a href="/account"
            class="block px-3 py-1.5 hover:bg-gray-50"
            role="menuitem">
            üîé Th√¥ng tin t√†i kho·∫£n
          </a>
          <a href="/account"
            class="block px-3 py-1.5 hover:bg-gray-50"
            role="menuitem">
            üîê ƒê·ªïi m·∫≠t kh·∫©u
          </a>
          <button id="btnMenuLogout"
                  class="w-full text-left px-3 py-1.5 hover:bg-gray-50 text-red-600"
                  role="menuitem">
            ‚Ü©Ô∏è ƒêƒÉng xu·∫•t
          </button>
        </div>
      </div>

      <!-- Menu ch√≠nh -->
      <nav class="py-4 text-sm flex-1">
        <div class="px-4 pb-3 text-xs font-semibold text-gray-500 uppercase">
          Menu ch√≠nh
        </div>
        <a href="/ams_home.html"         class="nav-item">üè† Trang ch·ªß</a>
        <a href="/compilation.html"      class="nav-item">üìù Nh·∫≠p h·ªì s∆° m·ªõi</a>
        <a href="/students_list.html"    class="nav-item">üìã Danh s√°ch h·ªì s∆°</a>
        <a href="/import_students.html"  class="nav-item">‚¨áÔ∏è Import h·ªçc vi√™n</a>
        <a href="/journal.html"          class="nav-item">üïì Nh·∫≠t k√Ω h·ªá th·ªëng</a>
        <a href="/checklist_admin.html"  class="nav-item nav-item-active">üìë Qu·∫£n l√Ω danh m·ª•c h·ªì s∆°</a>
        <a href="/admin"                 class="nav-item">üë§ Qu·∫£n l√Ω t√†i kho·∫£n</a>
      </nav>
    </aside>

    <!-- CONTENT -->
    <section class="flex-1 flex items-start justify-center">
      <div class="max-w-7xl mx-auto px-6 py-6 w-full space-y-6" id="pageContent">

        <!-- Header trang Checklist -->
        <section class="flex flex-wrap items-center justify-between gap-3">
          <div class="flex items-center gap-3 min-w-0">
            <div class="min-w-0">
              <h1 class="text-2xl font-bold leading-tight">QU·∫¢N L√ù DANH M·ª§C H·ªí S∆†</h1>
              <p class="text-sm text-gray-500">Ch·ªâ <b>Admin</b> c√≥ quy·ªÅn ch·ªânh s·ª≠a.</p>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <label class="text-sm text-gray-500">API Base</label>
            <input id="apiBase" class="input w-60 md:w-80" placeholder="">
            <span class="hidden md:inline-block w-px h-6 bg-gray-200"></span>
            <a href="/" class="btn btn-outline">Trang ch√≠nh</a>
          </div>
        </section>

        <!-- Quy·ªÅn -->
        <div id="roleBanner" class="rounded-xl border bg-white p-4 hidden">
          <div id="roleText" class="text-sm text-gray-700"></div>
        </div>

        <!-- Versions -->
        <section class="card space-y-4">
          <div class="flex items-center justify-between flex-wrap gap-2">
            <h2 class="font-semibold">Phi√™n b·∫£n danh m·ª•c</h2>
            <div class="text-sm text-gray-500">T·∫°o version m·ªõi (clone), xem v√† x√≥a phi√™n b·∫£n c≈©.</div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <!-- Danh s√°ch version -->
            <div class="border rounded-xl overflow-hidden bg-white">
              <div class="px-4 py-3 border-b font-semibold">C√°c phi√™n b·∫£n</div>
              <div id="verWrap" class="divide-y"></div>
            </div>

            <!-- T·∫°o version -->
            <div class="border rounded-xl overflow-hidden bg-white">
              <div class="px-4 py-3 border-b font-semibold">T·∫°o phi√™n b·∫£n m·ªõi</div>
              <div class="p-4 space-y-3">
                <div>
                  <label class="label">T√™n phi√™n b·∫£n</label>
                  <input id="verName" class="input w-full" placeholder="vd: v2 (2025)">
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                  <div>
                    <label class="label">Clone t·ª´</label>
                    <select id="verClone" class="input w-full">
                      <option value="active">Version ƒëang active</option>
                    </select>
                  </div>
                  <div class="flex items-center gap-2 pt-6">
                    <input id="verActivate" type="checkbox" class="h-4 w-4">
                    <label for="verActivate" class="text-sm">K√≠ch ho·∫°t ngay</label>
                  </div>
                </div>
                <div class="flex items-center justify-end gap-2">
                  <button id="btnCreateVer" class="btn btn-primary" disabled>T·∫°o version</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Items -->
        <section class="card space-y-3">
          <div class="flex flex-wrap items-center justify-between gap-2">
            <div>
              <h2 class="font-semibold">
                Danh m·ª•c h·ªì s∆° (version:
                <span id="activeVer" class="chip-mini">‚Äî</span>)
              </h2>
              <p class="text-xs text-gray-500">K√©o ‚ò∞ ƒë·ªÉ s·∫Øp x·∫øp; nh·ªõ b·∫•m <b>L∆∞u th·ª© t·ª±</b>.</p>
            </div>
            <div class="flex items-center gap-2">
              <button id="btnAdd" class="btn btn-primary" disabled>+ Th√™m m·ª•c</button>
              <button id="btnSaveOrder" class="btn btn-outline" disabled>üíæ L∆∞u th·ª© t·ª±</button>
            </div>
          </div>

          <div class="overflow-hidden border rounded-xl bg-white">
            <div class="overflow-auto">
              <table class="table min-w-full text-sm">
                <thead>
                  <tr>
                    <th class="text-center w-14">#</th>
                    <th class="text-left  w-10"> </th>
                    <th class="text-left">M√£</th>
                    <th class="text-left">T√™n hi·ªÉn th·ªã</th>
                    <th class="text-center w-24">Th·ª© t·ª±</th>
                    <th class="text-right  w-56">Thao t√°c</th>
                  </tr>
                </thead>
                <tbody id="tbody" class="divide-y"></tbody>
              </table>
            </div>
          </div>
          <div id="empty" class="text-center text-gray-500 py-6 hidden">Ch∆∞a c√≥ m·ª•c n√†o.</div>
        </section>

      </div>
    </section>
  </main>

  <!-- Modal Add/Edit: d√πng style.css (.overlay + .modal) -->
  <div id="modal" class="overlay" aria-hidden="true">
    <div class="modal w-[92vw] max-w-lg">
      <div class="hd flex items-center justify-between">
        <h3 id="modalTitle" class="text-lg">Th√™m/S·ª≠a danh m·ª•c</h3>
        <button id="btnClose" class="btn btn-outline btn-xs">‚úï</button>
      </div>
      <div class="bd space-y-3">
        <div id="rowCode">
          <label class="label">M√£ (code) ‚Äî ch·ªØ th∆∞·ªùng, s·ªë, g·∫°ch d∆∞·ªõi</label>
          <input id="inpCode" class="input w-full" placeholder="vd: so_yeu_ly_lich">
        </div>
        <div>
          <label class="label">T√™n hi·ªÉn th·ªã</label>
          <input id="inpName" class="input w-full" placeholder="vd: S∆° y·∫øu l√Ω l·ªãch">
        </div>
      </div>
      <div class="ft">
        <button id="btnCancel" class="btn btn-outline">H·ªßy</button>
        <button id="btnOk" class="btn btn-primary">L∆∞u</button>
      </div>
    </div>
  </div>

  <!-- Modal: xem items c·ªßa phi√™n b·∫£n b·∫•t k·ª≥ -->
  <div id="modalViewVer" class="overlay" aria-hidden="true">
    <div class="modal w-[96vw] max-w-3xl">
      <div class="hd flex items-center justify-between">
        <h3 id="viewTitle" class="text-lg font-semibold">Phi√™n b·∫£n</h3>
        <button id="btnCloseView" class="btn btn-outline btn-xs">‚úï</button>
      </div>
      <div class="bd">
        <div id="viewMeta" class="text-sm text-gray-600 mb-3"></div>
        <div class="overflow-auto border rounded-xl">
          <table class="table min-w-full text-sm">
            <thead>
              <tr>
                <th class="text-center w-14">#</th>
                <th class="text-left">M√£ (code)</th>
                <th class="text-left">T√™n hi·ªÉn th·ªã</th>
                <th class="text-center w-24">Th·ª© t·ª±</th>
              </tr>
            </thead>
            <tbody id="viewBody" class="divide-y"></tbody>
          </table>
        </div>
      </div>
      <div class="ft">
        <button id="btnCloseView2" class="btn btn-primary">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast-wrap"></div>

  <!-- Modal x√°c nh·∫≠n ƒêƒÉng xu·∫•t (d√πng chung v·ªõi c√°c trang kh√°c) -->
  <div class="overlay" id="logoutModal" role="dialog" aria-modal="true" aria-labelledby="lgTitle">
    <div class="modal max-w-md" id="logoutBox" tabindex="-1">
      <div class="px-6 py-4 border-b flex items-center justify-between">
        <div id="lgTitle" class="font-semibold text-gray-800">X√°c nh·∫≠n</div>
        <button class="btn btn-outline btn-xs" id="lgClose" aria-label="ƒê√≥ng">‚úï</button>
      </div>
      <div class="px-6 py-5" id="lgDesc">
        <p class="text-gray-700">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën ƒëƒÉng xu·∫•t kh√¥ng?</p>
      </div>
      <div class="px-6 py-4 border-t flex justify-end gap-2 bg-gray-50 rounded-b-2xl">
        <button class="btn btn-outline" id="lgCancel">H·ªßy</button>
        <button class="btn btn-primary" id="lgOK">ƒêƒÉng xu·∫•t</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-[#1E50B4] text-white mt-auto">
    <div class="max-w-7xl mx-auto px-6 py-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 text-sm">
      <div>
        <p class="font-semibold uppercase">VI·ªÜN H·ª¢P T√ÅC V√Ä PH√ÅT TRI·ªÇN ƒê√ÄO T·∫†O</p>
        <p class="uppercase">TR∆Ø·ªúNG ƒê·∫†I H·ªåC C√îNG NGH·ªÜ TPHCM (HUTECH)</p>
        <p><b>S√†i G√≤n Campus:</b> 475A ƒêi·ªán Bi√™n Ph·ªß, Ph∆∞·ªùng Th·∫°nh M·ªπ T√¢y, TP. H·ªì Ch√≠ Minh</p>
        <p>
          <b>ƒêT:</b> (028) 6686 6465 ¬∑
          <b>Email:</b> <a href="mailto:daotaotructuyen@hutech.edu.vn" class="underline hover:text-yellow-300">daotaotructuyen@hutech.edu.vn</a>
        </p>
      </div>
      <p class="text-xs">¬© V-HT.PTƒêT HUTECH ‚Äî Code by HC-Tu·∫•n</p>
    </div>
  </footer>

<script src="checklist_admin.js"></script>
</body>
</html>
