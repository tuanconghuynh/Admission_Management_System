<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>{% block title %}AMS{% endblock %}</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style.css">
  <link rel="icon" href="hutech.png" type="image/png" />
  <meta name="theme-color" content="#2563eb">

  {% block extra_head %}{% endblock %}
</head>
<style>
  /* Hover nháº¹ logo */
  a:hover img { transform: scale(1.05); transition: transform 0.2s ease; }
</style>
<body class="min-h-screen flex flex-col">
  <!-- HEADER CHUNG -->
  <header class="w-full bg-white/85 backdrop-blur-sm border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-6 py-3 flex items-center gap-3">
      <a href="/ams_home.html"
         class="flex items-center gap-3 hover:opacity-90 transition"
         title="Vá» trang chá»§">
        <img src="hutech.png" class="h-10 w-10" alt="HUTECH" />
        <div>
          <h1 class="text-2xl sm:text-3xl font-extrabold text-blue-700 leading-tight">
            ADMISSION MANAGEMENT SYSTEM - AMS
          </h1>
          <p class="text-sm sm:text-base text-gray-600 font-medium tracking-wide">
            V-HT.PTÄT - Há»‡ Thá»‘ng Quáº£n LÃ½ Há»“ SÆ¡ Nháº­p Há»c (AMS)
          </p>
        </div>
      </a>
    </div>
  </header>

  <!-- MAIN LAYOUT -->
  <main class="flex-1 flex">
    <!-- SIDEBAR CHUNG -->
    <aside class="hidden md:flex md:flex-col w-64 bg-white/85 border-r border-slate-200 backdrop-blur-sm">
      <!-- Khá»‘i user + dropdown -->
      <div class="px-4 pt-4 pb-3 border-b border-slate-200 relative">
        <button id="userMenuBtn"
                class="w-full justify-between text-sm text-gray-700 bg-white hover:bg-slate-50 px-3 py-2 rounded-lg shadow border flex items-center gap-2"
                aria-haspopup="true" aria-expanded="false" aria-controls="userMenu">
          <span><b id="helloName">â€”</b>
            <span class="text-gray-500">(<span id="helloRole">â€”</span>)</span>
          </span>
          <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor" class="text-gray-500" aria-hidden="true">
            <path fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 11.187l3.71-3.956a.75.75 0 011.08 1.04l-4.24 4.52a.75.75 0 01-1.08 0l-4.24-4.52a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"/>
          </svg>
        </button>

        <!-- Dropdown user -->
        <div id="userMenu"
             class="menu absolute left-4 top-[calc(100%+4px)] w-[calc(100%-2rem)] bg-white border rounded-xl shadow-lg overflow-hidden z-20 text-xs"
             role="menu">
          <a href="/account" class="block px-4 py-2 hover:bg-gray-50" role="menuitem">ğŸ” ThÃ´ng tin tÃ i khoáº£n</a>
          <a href="/account" class="block px-4 py-2 hover:bg-gray-50" role="menuitem">ğŸ” Äá»•i máº­t kháº©u</a>
          <button id="btnMenuLogout"
                  class="w-full text-left px-4 py-2 hover:bg-gray-50 text-red-600"
                  role="menuitem">
            â†©ï¸ ÄÄƒng xuáº¥t
          </button>
        </div>
      </div>

      <!-- Menu chÃ­nh -->
      <nav class="py-4 text-sm flex-1">
        <div class="px-4 pb-3 text-xs font-semibold text-gray-500 uppercase">
          Menu chÃ­nh
        </div>
        <a href="/ams_home.html"
           class="nav-item {% if active_page == 'home' %}nav-item-active{% endif %}">
          ğŸ  Trang chá»§
        </a>
        <a href="/compilation.html"
           class="nav-item {% if active_page == 'compilation' %}nav-item-active{% endif %}">
          ğŸ“ Nháº­p há»“ sÆ¡ má»›i
        </a>
        <a href="/students_list.html"
           class="nav-item {% if active_page == 'students' %}nav-item-active{% endif %}">
          ğŸ“‹ Danh sÃ¡ch há»“ sÆ¡
        </a>
        <a href="/import_students.html"
           class="nav-item {% if active_page == 'import' %}nav-item-active{% endif %}">
          â¬‡ï¸ Import há»c viÃªn
        </a>
        <a href="/journal.html"
           class="nav-item {% if active_page == 'journal' %}nav-item-active{% endif %}">
          ğŸ•“ Nháº­t kÃ½ há»‡ thá»‘ng
        </a>
        <a href="/checklist_admin.html"
           class="nav-item {% if active_page == 'checklist' %}nav-item-active{% endif %}">
          ğŸ“‘ Quáº£n lÃ½ danh má»¥c há»“ sÆ¡
        </a>
        <a href="/admin"
           class="nav-item {% if active_page == 'admin' %}nav-item-active{% endif %}">
          ğŸ‘¤ Quáº£n lÃ½ tÃ i khoáº£n
        </a>
      </nav>
    </aside>

    <!-- CONTENT CHUNG: child sáº½ Ä‘á»• vÃ o block nÃ y -->
    <section class="flex-1 flex items-start justify-center">
      <div class="max-w-7xl mx-auto px-6 py-6 w-full" id="pageContent">
        {% block content %}{% endblock %}
      </div>
    </section>
  </main>

  <!-- FOOTER CHUNG -->
  <footer class="bg-[#1E50B4] text-white mt-auto">
    <div class="max-w-7xl mx-auto px-6 py-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 text-sm">
      <div>
        <p class="font-semibold uppercase">VIá»†N Há»¢P TÃC VÃ€ PHÃT TRIá»‚N ÄÃ€O Táº O</p>
        <p class="uppercase">TRÆ¯á»œNG Äáº I Há»ŒC CÃ”NG NGHá»† TPHCM (HUTECH)</p>
        <p><b>SÃ i GÃ²n Campus:</b> 475A Äiá»‡n BiÃªn Phá»§, PhÆ°á»ng Tháº¡nh Má»¹ TÃ¢y, TP. Há»“ ChÃ­ Minh</p>
        <p><b>ÄT:</b> (028) 6686 6465 Â·
          <b>Email:</b>
          <a href="mailto:daotaotructuyen@hutech.edu.vn" class="underline hover:text-yellow-300">
            daotaotructuyen@hutech.edu.vn
          </a>
        </p>
      </div>
      <p class="text-xs">Â© V-HT.PTÄT HUTECH â€” Code by HC-Tuáº¥n</p>
    </div>
  </footer>

  <!-- Toast + Modal logout CHUNG -->
  <div id="toast-wrap"></div>

  <div class="overlay" id="logoutModal" role="dialog" aria-modal="true" aria-labelledby="lgTitle">
    <div class="modal max-w-md" id="logoutBox" tabindex="-1">
      <div class="px-6 py-4 border-b flex items-center justify-between">
        <div id="lgTitle" class="font-semibold text-gray-800">XÃ¡c nháº­n</div>
        <button class="btn btn-outline btn-xs" id="lgClose" aria-label="ÄÃ³ng">âœ•</button>
      </div>
      <div class="px-6 py-5" id="lgDesc">
        <p class="text-gray-700">Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n Ä‘Äƒng xuáº¥t khÃ´ng?</p>
      </div>
      <div class="px-6 py-4 border-t flex justify-end gap-2 bg-gray-50 rounded-b-2xl">
        <button class="btn btn-outline" id="lgCancel">Há»§y</button>
        <button class="btn btn-primary" id="lgOK">ÄÄƒng xuáº¥t</button>
      </div>
    </div>
  </div>

  {% block scripts %}{% endblock %}
</body>
</html>
